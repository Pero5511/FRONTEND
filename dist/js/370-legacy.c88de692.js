"use strict";(self["webpackChunkesweepstore"]=self["webpackChunkesweepstore"]||[]).push([[370],{3753:function(t,e,s){var a=s(2109),i=s(6916);a({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},2918:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("h1",{staticClass:"pa-5"},[t._v("Započnimo !")]),s("h2",{staticClass:"pa-5"},[t._v("Pretraga nagradnih igara")]),t.logged?s("v-container",{staticStyle:{"background-color":"teal"}},[s("h3",{staticStyle:{color:"white"},attrs:{align:"right"}},[t._v("Tokena: "+t._s(this.$store.state.user.tokens))])]):t._e(),s("v-container",{staticStyle:{"background-color":"teal",color:"white"}}),s("v-container",[s("v-row",t._l(t.comp,(function(t){return s("v-col",{key:t.id,attrs:{xs:"12",sm:"6",md:"6",lg:"4",xl:"3"}},[s("pogledaj-igru",{attrs:{tip:t.type,naziv:t.name,organizator:t.organiser,tokens:t.tokens,nagrada:t.prize,vrijednost:t.prize_value,objavljena:t.created_at,zavrsava:t.finishes_at,pobjednik:t.winner,id:t.id}})],1)})),1)],1)],1)},i=[],o=s(2043),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-card",{staticClass:"mx-auto",attrs:{dark:"","max-width":"490",outlined:""}},[s("v-list-item",{attrs:{"three-line":""}},[s("v-list-item-content",[s("div",{staticClass:"text-overline mb-4",staticStyle:{color:"teal"},attrs:{align:"left"}},[t._v(" "+t._s(this.tipcomp)+" ")]),s("br"),s("v-list-item-title",{staticClass:"text-h5 mb-7"},[t._v(" "+t._s(t.naziv)+" ")]),s("hr"),s("v-list-item-subtitle",{staticStyle:{color:"teal"},attrs:{align:"left"}},[t._v("Organizator:")]),s("v-list-item-subtitle",{staticClass:"mb-7"},[t._v(t._s(this.organizatorcomp))]),s("br"),s("v-list-item-subtitle",{staticStyle:{color:"teal"},attrs:{align:"left"}},[t._v("Nagrada:")]),s("v-list-item-subtitle",{staticClass:"mb-7"},[t._v(t._s(t.nagrada))]),s("v-list-item-subtitle",{staticStyle:{color:"teal"},attrs:{align:"left"}},[t._v("Vrijednost: ")]),s("v-list-item-subtitle",{staticClass:"mb-7"},[t._v(t._s(t.vrijednost)+" KM")]),s("v-list-item-subtitle",{staticStyle:{color:"teal"},attrs:{align:"left"}},[t._v("Cijena: ")]),s("v-list-item-subtitle",{staticClass:"mb-7"},[t._v(t._s(t.tokens)+" Token/a")]),s("v-list-item-subtitle",{staticStyle:{color:"teal"},attrs:{align:"left"}},[t._v("Završava: ")]),s("v-list-item-subtitle",{staticClass:"mb-7"},[t._v(t._s(t.zavrsava))]),s("v-list-item-subtitle",{staticStyle:{color:"teal"},attrs:{align:"left"}},[t._v("Dobitnik: ")]),s("v-list-item-subtitle",[t._v(t._s(this.pobjednikcomp))]),s("h1",{staticStyle:{color:"lime"}},[t._v(t._s(this.zavrsavacomp))]),t.canJoin?s("v-btn",{staticClass:"mt-3",attrs:{outlined:"",color:"white"},on:{click:function(e){return t.sudjeluj()}}},[t._v("Sudjeluj >")]):t._e(),s("br")],1)],1)],1)],1)},r=[],l=(s(8309),s(8862),s(3753),new Date),u={name:"pogledajIgru",props:["tokens","naziv","organizator","id","tip","nagrada","vrijednost","objavljena","zavrsava","pobjednik"],data:function(){return{tipcomp:null,organizatorcomp:null,canJoin:null,pobjednikcomp:null,zavrsavacomp:null,form:{submitter:null,game:null},form2:{name:null,user_role:"1",tokens:null}}},methods:{sudjeluj:function(){var t=this;null!=this.zavrsavacomp&&alert("OPREZ! Sudjelujete u ZAVRŠENOJ igri!"),o.Z.get("/users/"+this.$store.state.user.id).then((function(e){t.form2.name=e.data.name,t.form2.user_role=e.data.user_role,t.form2.tokens=e.data.tokens})),this.form2.tokens>=this.tokens&&(this.form.game=this.id,this.form.submitter=this.$store.state.user.id,this.form2.tokens=this.form2.tokens-this.tokens,o.Z.put("/users/"+this.$store.state.user.id,JSON.stringify(this.form2)).then((function(t){200===t.status&&console.log("response.status")})),o.Z.post("/submits",JSON.stringify(this.form)).then((function(e){201===e.status&&(console.log("response.status"),alert("Uspješno ste se prijavili na igru!"),t.$router.go(0))})))}},mounted:function(){var t=this;l.toJSON()>this.zavrsava&&(this.zavrsavacomp="ZAVRŠENA !",console.log(this.zavrsavacomp)),o.Z.get("/types/"+this.tip).then((function(e){t.tipcomp=e.data.name})),o.Z.get("/users/"+this.organizator).then((function(e){t.organizatorcomp=e.data.name})),o.Z.get("/users/"+this.pobjednik).then((function(e){t.pobjednikcomp=e.data.name})),1!=this.$store.state.user.user_role&&3!=this.$store.state.user.user_role||(this.canJoin="1")}},c=u,m=s(1001),v=s(3453),h=s.n(v),p=s(680),d=s(3237),g=s(9846),f=s(7620),_=s(868),b=(0,m.Z)(c,n,r,!1,null,null,null),k=b.exports;h()(b,{VBtn:p.Z,VCard:d.Z,VContainer:g.Z,VListItem:f.Z,VListItemContent:_.km,VListItemSubtitle:_.oZ,VListItemTitle:_.V9});var j={data:function(){return{comp:[],logged:localStorage.getItem("app_token")}},name:"HomeView",components:{pogledajIgru:k},mounted:function(){var t=this;o.Z.get("/games").then((function(e){t.comp=e.data}))}},Z=j,z=s(2102),C=s(2877),S=(0,m.Z)(Z,a,i,!1,null,null,null),y=S.exports;h()(S,{VCol:z.Z,VContainer:g.Z,VRow:C.Z})}}]);
//# sourceMappingURL=370-legacy.c88de692.js.map